[gd_scene load_steps=17 format=3 uid="uid://1wsbq77tr1k5"]

[ext_resource type="PackedScene" uid="uid://dn22vynxaxbfi" path="res://Prefabs/dialog/dialog_manager.tscn" id="1_7pf63"]
[ext_resource type="PackedScene" uid="uid://8eqkq54qfjx4" path="res://Scenes/Player.tscn" id="1_440sk"]
[ext_resource type="PackedScene" uid="uid://drxcwmepah76t" path="res://Prefabs/room_manager.tscn" id="1_i3jld"]
[ext_resource type="Script" path="res://Scripts/Scenes/Core.cs" id="1_nxs71"]
[ext_resource type="PackedScene" uid="uid://cabh24mlvxkp2" path="res://Scenes/gui.tscn" id="2_u7hmi"]
[ext_resource type="Texture2D" uid="uid://dkiklg2i1hnyp" path="res://Assets/Spacebox.jpg" id="3_8ptnb"]
[ext_resource type="AudioStream" uid="uid://d17rlwtfqfw3a" path="res://Assets/music/last_breath.wav" id="5_55gdp"]
[ext_resource type="PackedScene" uid="uid://d242m7dmbbcfl" path="res://Prefabs/characters/crewman.tscn" id="7_ydiok"]
[ext_resource type="Script" path="res://Scripts/Objects/TestObject.cs" id="10_fqbip"]
[ext_resource type="PackedScene" uid="uid://byq2pdynansef" path="res://Prefabs/Props/Spaceship.tscn" id="10_paebx"]
[ext_resource type="PackedScene" uid="uid://chmtfaj8nn5h" path="res://Prefabs/computer_terminal.tscn" id="11_bybcb"]

[sub_resource type="PanoramaSkyMaterial" id="PanoramaSkyMaterial_nlcx5"]
panorama = ExtResource("3_8ptnb")

[sub_resource type="Sky" id="Sky_ibynb"]
sky_material = SubResource("PanoramaSkyMaterial_nlcx5")
radiance_size = 0

[sub_resource type="Environment" id="Environment_pmfeb"]
background_mode = 2
sky = SubResource("Sky_ibynb")
ambient_light_color = Color(1, 1, 0.756863, 1)
ambient_light_energy = 0.02
fog_light_color = Color(1, 1, 0.756863, 1)
fog_light_energy = 0.05
fog_density = 0.1
volumetric_fog_density = 0.1472
volumetric_fog_albedo = Color(1, 1, 0.756863, 1)

[sub_resource type="BoxMesh" id="BoxMesh_0sghj"]
size = Vector3(1.5, 1.5, 1.5)

[sub_resource type="BoxShape3D" id="BoxShape3D_3exrj"]
size = Vector3(1.84069, 4.38079, 1.54359)

[node name="Core" type="Node3D"]
script = ExtResource("1_nxs71")

[node name="DialogManager" parent="." instance=ExtResource("1_7pf63")]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_pmfeb")

[node name="RoomManager" parent="." instance=ExtResource("1_i3jld")]

[node name="SpotLight3D" type="SpotLight3D" parent="RoomManager"]
transform = Transform3D(1, -6.97574e-16, -1.52459e-23, -1.5246e-23, -4.37114e-08, 1, -6.97574e-16, -1, -4.37114e-08, 11.0339, 3.76903, 3.8046)
light_color = Color(1, 0, 0, 1)
light_energy = 12.275
spot_range = 9.9511
spot_angle = 51.3046

[node name="SpotLight3D2" type="SpotLight3D" parent="RoomManager"]
transform = Transform3D(1, -6.97574e-16, -1.52459e-23, -1.5246e-23, -4.37114e-08, 1, -6.97574e-16, -1, -4.37114e-08, 11.0339, 3.76903, 7.8046)
light_color = Color(1, 0, 0, 1)
light_energy = 12.275
spot_range = 9.9511
spot_angle = 51.3046

[node name="Player" parent="." instance=ExtResource("1_440sk")]
transform = Transform3D(0.830256, 0, -0.557383, 0, 1, 0, 0.557383, 0, 0.830255, 8.54483, 1.19211e-07, 3.12386)

[node name="GUI" parent="." instance=ExtResource("2_u7hmi")]

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource("5_55gdp")
autoplay = true

[node name="ordinaryMan" parent="." instance=ExtResource("7_ydiok")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.92923, 0, -6.7414)
visible = false

[node name="Spaceship" parent="." instance=ExtResource("10_paebx")]
transform = Transform3D(0.866025, 0, 0.5, 0, 1, 0, -0.5, 0, 0.866025, 38, -2, 86)

[node name="Node3D" type="Node3D" parent="."]
transform = Transform3D(-0.384924, 0, -0.922949, 0, 1, 0, 0.922949, 0, -0.384924, 12.9436, -1.43051e-07, 6.14339)
script = ExtResource("10_fqbip")

[node name="TestCube" type="StaticBody3D" parent="Node3D" groups=["enemy"]]
transform = Transform3D(1, 0, 1.72523e-08, 0, 1, 0, -2.41013e-08, 0, 1, 0, 0, 0)

[node name="Mesh" type="MeshInstance3D" parent="Node3D/TestCube"]
mesh = SubResource("BoxMesh_0sghj")
skeleton = NodePath("../../..")

[node name="Monitor" type="MeshInstance3D" parent="Node3D/TestCube"]
transform = Transform3D(1, 0, 0, 0, 0.707107, 0.173305, 0, -0.707107, 0.173305, 0, 1.18521, 0)
mesh = SubResource("BoxMesh_0sghj")
skeleton = NodePath("../../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Node3D/TestCube"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.08165e-12, 0.5, 2.08165e-12)
shape = SubResource("BoxShape3D_3exrj")

[node name="ComputerTerminal" parent="." instance=ExtResource("11_bybcb")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 12.9234, 0, 3.44941)
